<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>❌ Trabalhos Vencidos — 2º B</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet"/>
<style>
:root{--primary:#3498db;--bg:#f5f6fa;--text:#2c3e50;--card-bg:#fff;--border-gray:#999;--footer-bg:#bdc3c7;}
body.dark{--primary:#1a73e8;--bg:#1f1f1f;--text:#fff;--card-bg:#2b2b2b;--border-gray:#999;--footer-bg:#3d3d3d;}
body{margin:0;font-family:'Poppins',sans-serif;background-color:var(--bg);color:var(--text);display:flex;flex-direction:column;align-items:center;transition:0.25s;min-height:100vh;}
header{background-color:var(--primary);color:#fff;text-align:center;width:100%;padding:25px 0;font-size:1.6rem;font-weight:600;}
.container{width:90%;max-width:900px;margin:30px auto 60px;}
.month-group{margin-bottom:44px;}
.month-title{font-size:1.3rem;font-weight:700;margin-bottom:20px;border-bottom:2px solid var(--border-gray);padding-bottom:6px;color:var(--border-gray);}
.card{background-color:var(--card-bg);border-radius:16px;padding:20px 24px;border-left:6px solid var(--border-gray);margin-bottom:16px;}
.subject{font-weight:600;margin-bottom:8px;font-size:1rem;}
h3{margin-bottom:10px;}
p{font-size:0.95rem;margin-bottom:6px;}
a.back-button{display:inline-block;background-color:var(--primary);color:white;padding:10px 20px;border-radius:10px;text-decoration:none;font-weight:700;margin:40px auto 20px;}
a.back-button:hover{background-color:#2176bd;}
footer{background-color:var(--footer-bg);width:100%;padding:12px 0;font-size:0.9rem;text-align:center;margin-top:auto;}
</style>
</head>
<body>
<header>❌ Trabalhos Vencidos — 2º B</header>
<a href="index.html" class="back-button">⬅ Voltar ao Painel Principal</a>
<div class="container" id="vencidosContainer"></div>
<footer>Calendário Escolar — Página de Trabalhos Vencidos</footer>

<script>
if(localStorage.getItem('tema')==='dark') document.body.classList.add('dark');

// ✅ Zera os trabalhos vencidos apenas no carregamento da página
localStorage.setItem('trabalhosVencidos', '[]');

function formatDatePtBR(iso){
  const d=new Date(iso);
  return `${String(d.getDate()).padStart(2,'0')}/${String(d.getMonth()+1).padStart(2,'0')}/${d.getFullYear()}`;
}

function renderCard(t){
  const c=document.createElement('div');
  c.classList.add('card');
  c.innerHTML=`<p class="subject">${t.materia}</p><h3>${t.titulo}</h3><p><strong>Prazo:</strong> ${formatDatePtBR(t.prazo)}</p><p>${t.descricao}</p>`;
  return c;
}

function carregarVencidos(){
  const container=document.getElementById('vencidosContainer');
  container.innerHTML='';
  const vencidos=JSON.parse(localStorage.getItem('trabalhosVencidos')||'[]');
  if(vencidos.length===0){
    container.innerHTML='<p style="text-align:center;font-style:italic;margin-top:30px;">Nenhum trabalho vencido.</p>';
    return;
  }
  vencidos.sort((a,b)=>new Date(a.prazo)-new Date(b.prazo));
  vencidos.forEach(t=>container.appendChild(renderCard(t)));
}

document.addEventListener('DOMContentLoaded', carregarVencidos);
</script>
</body>
</html>